exports.id=430,exports.ids=[430],exports.modules={9012:(a,b,c)=>{Promise.resolve().then(c.bind(c,71617)),Promise.resolve().then(c.bind(c,53403)),Promise.resolve().then(c.bind(c,15474))},10276:(a,b,c)=>{"use strict";c.d(b,{$:()=>i});var d=c(80742),e=c(46037),f=c(32753),g=c(60351);let h=(0,f.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function i({className:a,variant:b,size:c,asChild:f=!1,...i}){let j=f?e.DX:"button";return(0,d.jsx)(j,{"data-slot":"button",className:(0,g.cn)(h({variant:b,size:c,className:a})),...i})}},15474:(a,b,c)=>{"use strict";c.d(b,{QueryClientProviderWrapper:()=>g});var d=c(80742),e=c(99101);let f=new(c(12570)).E({defaultOptions:{queries:{refetchOnWindowFocus:!0,refetchInterval:3e5,retry:!1}}}),g=({children:a})=>(0,d.jsx)(e.Ht,{client:f,children:a})},16600:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>m,metadata:()=>l});var d=c(48836),e=c(39026),f=c.n(e),g=c(56404),h=c.n(g),i=c(25706),j=c(89075),k=c(56082);c(42951);let l={title:"Claude Code Viewer",description:"Web Viewer for Claude Code history"};function m({children:a}){return(0,d.jsx)("html",{lang:"ja",children:(0,d.jsx)("body",{className:`${f().variable} ${h().variable} antialiased`,children:(0,d.jsx)(j.RootErrorBoundary,{children:(0,d.jsx)(i.QueryClientProviderWrapper,{children:(0,d.jsx)(k.ServerEventsProvider,{children:a})})})})})}},23829:(a,b,c)=>{"use strict";c.d(b,{A:()=>g,q:()=>f});var d=c(30311),e=c(80742);function f(a,b){let c=d.createContext(b),f=a=>{let{children:b,...f}=a,g=d.useMemo(()=>f,Object.values(f));return(0,e.jsx)(c.Provider,{value:g,children:b})};return f.displayName=a+"Provider",[f,function(e){let f=d.useContext(c);if(f)return f;if(void 0!==b)return b;throw Error(`\`${e}\` must be used within \`${a}\``)}]}function g(a,b=[]){let c=[],f=()=>{let b=c.map(a=>d.createContext(a));return function(c){let e=c?.[a]||b;return d.useMemo(()=>({[`__scope${a}`]:{...c,[a]:e}}),[c,e])}};return f.scopeName=a,[function(b,f){let g=d.createContext(f),h=c.length;c=[...c,f];let i=b=>{let{scope:c,children:f,...i}=b,j=c?.[a]?.[h]||g,k=d.useMemo(()=>i,Object.values(i));return(0,e.jsx)(j.Provider,{value:k,children:f})};return i.displayName=b+"Provider",[i,function(c,e){let i=e?.[a]?.[h]||g,j=d.useContext(i);if(j)return j;if(void 0!==f)return f;throw Error(`\`${c}\` must be used within \`${b}\``)}]},function(...a){let b=a[0];if(1===a.length)return b;let c=()=>{let c=a.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(a){let e=c.reduce((b,{useScope:c,scopeName:d})=>{let e=c(a)[`__scope${d}`];return{...b,...e}},{});return d.useMemo(()=>({[`__scope${b.scopeName}`]:e}),[e])}};return c.scopeName=b.scopeName,c}(f,...b)]}},25706:(a,b,c)=>{"use strict";c.d(b,{QueryClientProviderWrapper:()=>d});let d=(0,c(78088).registerClientReference)(function(){throw Error("Attempted to call QueryClientProviderWrapper() from the server but QueryClientProviderWrapper is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/kaito-kimura/Playground/claude-code-viewer/src/lib/api/QueryClientProviderWrapper.tsx","QueryClientProviderWrapper")},25888:(a,b,c)=>{Promise.resolve().then(c.t.bind(c,72326,23)),Promise.resolve().then(c.t.bind(c,42649,23)),Promise.resolve().then(c.t.bind(c,78689,23)),Promise.resolve().then(c.t.bind(c,94296,23)),Promise.resolve().then(c.t.bind(c,24840,23)),Promise.resolve().then(c.t.bind(c,96396,23)),Promise.resolve().then(c.t.bind(c,56156,23)),Promise.resolve().then(c.t.bind(c,36333,23)),Promise.resolve().then(c.bind(c,43948))},34894:(a,b,c)=>{"use strict";c.d(b,{i:()=>h});var d,e=c(30311),f=c(97552),g=(d||(d=c.t(e,2)))[" useInsertionEffect ".trim().toString()]||f.N;function h({prop:a,defaultProp:b,onChange:c=()=>{},caller:d}){let[f,h,i]=function({defaultProp:a,onChange:b}){let[c,d]=e.useState(a),f=e.useRef(c),h=e.useRef(b);return g(()=>{h.current=b},[b]),e.useEffect(()=>{f.current!==c&&(h.current?.(c),f.current=c)},[c,f]),[c,d,h]}({defaultProp:b,onChange:c}),j=void 0!==a,k=j?a:f;{let b=e.useRef(void 0!==a);e.useEffect(()=>{let a=b.current;if(a!==j){let b=j?"controlled":"uncontrolled";console.warn(`${d} is changing from ${a?"controlled":"uncontrolled"} to ${b}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`)}b.current=j},[j,d])}return[k,e.useCallback(b=>{if(j){let c="function"==typeof b?b(a):b;c!==a&&i.current?.(c)}else h(b)},[j,a,h,i])]}Symbol("RADIX:SYNC_STATE")},39040:(a,b,c)=>{Promise.resolve().then(c.t.bind(c,16504,23)),Promise.resolve().then(c.t.bind(c,72851,23)),Promise.resolve().then(c.t.bind(c,56191,23)),Promise.resolve().then(c.t.bind(c,87186,23)),Promise.resolve().then(c.t.bind(c,76086,23)),Promise.resolve().then(c.t.bind(c,32186,23)),Promise.resolve().then(c.t.bind(c,72130,23)),Promise.resolve().then(c.t.bind(c,66407,23)),Promise.resolve().then(c.t.bind(c,40546,23))},42951:()=>{},53403:(a,b,c)=>{"use strict";c.d(b,{ServerEventsProvider:()=>j});var d=c(80742),e=c(99101),f=c(30311),g=c(56390);let h=a=>a.split("\n\n").filter(a=>a.length>0).map(a=>(a=>{let b=a.split("\n"),c=b.findIndex(a=>a.startsWith("event:")),d=b.findIndex(a=>a.startsWith("data:")),e=b.findIndex(a=>a.startsWith("id:")),f=a=>Math.min(...[c,d,e,b.length].filter(b=>b>a));if(-1===c||-1===d||-1===e)throw console.error("failed",a),Error("Failed to parse SSE event");let g=b.slice(c,f(c)).join("\n"),h=b.slice(d,f(d)).join("\n");return{id:b.slice(e,f(e)).join("\n").slice(3).trim(),event:g.slice(6).trim(),data:JSON.parse(h.slice(h.indexOf("{"),h.indexOf("}")+1))}})(a)),i=!1;function j({children:a}){let b=(0,e.jE)(),c=(0,f.useCallback)(async()=>{console.log("listening to events");let a=await g.s.api.events.state_changes.$get();if(!a.ok)throw Error("Failed to fetch events");let c=a.body?.getReader();if(!c)throw Error("Failed to get reader");let d=new TextDecoder;for(;;){let{done:a,value:e}=await c.read();if(a)break;for(let a of h(d.decode(e)))console.log("data",a),"project_changed"===a.data.type&&(console.log("invalidating projects"),await b.invalidateQueries({queryKey:["projects"]})),"session_changed"===a.data.type&&(console.log("invalidating sessions"),await b.invalidateQueries({queryKey:["sessions"]}))}},[b]);return(0,f.useEffect)(()=>{!1===i&&c().then(()=>{console.log("registered events listener"),i=!0}).catch(a=>{console.error("failed to register events listener",a),i=!0})},[c]),(0,d.jsx)(d.Fragment,{children:a})}},56082:(a,b,c)=>{"use strict";c.d(b,{ServerEventsProvider:()=>d});let d=(0,c(78088).registerClientReference)(function(){throw Error("Attempted to call ServerEventsProvider() from the server but ServerEventsProvider is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/kaito-kimura/Playground/claude-code-viewer/src/app/components/ServerEventsProvider.tsx","ServerEventsProvider")},56390:(a,b,c)=>{"use strict";c.d(b,{s:()=>d});let d=(0,c(78580).hc)("http://localhost:3400")},60351:(a,b,c)=>{"use strict";c.d(b,{cn:()=>f});var d=c(97747),e=c(80799);function f(...a){return(0,e.QP)((0,d.$)(a))}},62689:(a,b,c)=>{"use strict";c.d(b,{A:()=>d});let d=(0,c(77196).A)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},66650:(a,b,c)=>{"use strict";c.d(b,{BT:()=>i,Wu:()=>j,ZB:()=>h,Zp:()=>f,aR:()=>g});var d=c(80742),e=c(60351);function f({className:a,...b}){return(0,d.jsx)("div",{"data-slot":"card",className:(0,e.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",a),...b})}function g({className:a,...b}){return(0,d.jsx)("div",{"data-slot":"card-header",className:(0,e.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",a),...b})}function h({className:a,...b}){return(0,d.jsx)("div",{"data-slot":"card-title",className:(0,e.cn)("leading-none font-semibold",a),...b})}function i({className:a,...b}){return(0,d.jsx)("div",{"data-slot":"card-description",className:(0,e.cn)("text-muted-foreground text-sm",a),...b})}function j({className:a,...b}){return(0,d.jsx)("div",{"data-slot":"card-content",className:(0,e.cn)("px-6",a),...b})}},68445:(a,b,c)=>{"use strict";c.d(b,{hO:()=>i,sG:()=>h});var d=c(30311),e=c(56590),f=c(46037),g=c(80742),h=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((a,b)=>{let c=(0,f.TL)(`Primitive.${b}`),e=d.forwardRef((a,d)=>{let{asChild:e,...f}=a;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,g.jsx)(e?c:b,{...f,ref:d})});return e.displayName=`Primitive.${b}`,{...a,[b]:e}},{});function i(a,b){a&&e.flushSync(()=>a.dispatchEvent(b))}},71617:(a,b,c)=>{"use strict";c.d(b,{RootErrorBoundary:()=>f});var d=c(80742),e=c(54411);let f=({children:a})=>(0,d.jsx)(e.tH,{FallbackComponent:({error:a})=>(0,d.jsxs)("div",{children:[(0,d.jsx)("h1",{children:"Error"}),(0,d.jsx)("p",{children:a.message})]}),children:a})},73799:(a,b,c)=>{"use strict";c.d(b,{C:()=>g});var d=c(30311),e=c(74687),f=c(97552),g=a=>{let{present:b,children:c}=a,g=function(a){var b,c;let[e,g]=d.useState(),i=d.useRef(null),j=d.useRef(a),k=d.useRef("none"),[l,m]=(b=a?"mounted":"unmounted",c={mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}},d.useReducer((a,b)=>c[a][b]??a,b));return d.useEffect(()=>{let a=h(i.current);k.current="mounted"===l?a:"none"},[l]),(0,f.N)(()=>{let b=i.current,c=j.current;if(c!==a){let d=k.current,e=h(b);a?m("MOUNT"):"none"===e||b?.display==="none"?m("UNMOUNT"):c&&d!==e?m("ANIMATION_OUT"):m("UNMOUNT"),j.current=a}},[a,m]),(0,f.N)(()=>{if(e){let a,b=e.ownerDocument.defaultView??window,c=c=>{let d=h(i.current).includes(CSS.escape(c.animationName));if(c.target===e&&d&&(m("ANIMATION_END"),!j.current)){let c=e.style.animationFillMode;e.style.animationFillMode="forwards",a=b.setTimeout(()=>{"forwards"===e.style.animationFillMode&&(e.style.animationFillMode=c)})}},d=a=>{a.target===e&&(k.current=h(i.current))};return e.addEventListener("animationstart",d),e.addEventListener("animationcancel",c),e.addEventListener("animationend",c),()=>{b.clearTimeout(a),e.removeEventListener("animationstart",d),e.removeEventListener("animationcancel",c),e.removeEventListener("animationend",c)}}m("ANIMATION_END")},[e,m]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:d.useCallback(a=>{i.current=a?getComputedStyle(a):null,g(a)},[])}}(b),i="function"==typeof c?c({present:g.isPresent}):d.Children.only(c),j=(0,e.s)(g.ref,function(a){let b=Object.getOwnPropertyDescriptor(a.props,"ref")?.get,c=b&&"isReactWarning"in b&&b.isReactWarning;return c?a.ref:(c=(b=Object.getOwnPropertyDescriptor(a,"ref")?.get)&&"isReactWarning"in b&&b.isReactWarning)?a.props.ref:a.props.ref||a.ref}(i));return"function"==typeof c||g.isPresent?d.cloneElement(i,{ref:j}):null};function h(a){return a?.animationName||"none"}g.displayName="Presence"},77443:(a,b,c)=>{"use strict";c.d(b,{B:()=>f});var d=c(71121),e=c(56390);let f=a=>(0,d.U)({queryKey:["projects",a],queryFn:async()=>{let b=await e.s.api.projects[":projectId"].$get({param:{projectId:a}});return await b.json()},refetchOnReconnect:!0})},79678:(a,b,c)=>{"use strict";function d(a,b,{checkForDefaultPrevented:c=!0}={}){return function(d){if(a?.(d),!1===c||!d.defaultPrevented)return b?.(d)}}c.d(b,{mK:()=>d}),"undefined"!=typeof window&&window.document&&window.document.createElement},88225:(a,b,c)=>{"use strict";c.d(b,{A:()=>d});let d=(0,c(77196).A)("message-square",[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]])},89075:(a,b,c)=>{"use strict";c.d(b,{RootErrorBoundary:()=>d});let d=(0,c(78088).registerClientReference)(function(){throw Error("Attempted to call RootErrorBoundary() from the server but RootErrorBoundary is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/kaito-kimura/Playground/claude-code-viewer/src/app/components/RootErrorBoundary.tsx","RootErrorBoundary")},90452:(a,b,c)=>{Promise.resolve().then(c.bind(c,89075)),Promise.resolve().then(c.bind(c,56082)),Promise.resolve().then(c.bind(c,25706))},91505:(a,b,c)=>{"use strict";c.d(b,{H:()=>d});let d=a=>{switch(a.kind){case"command":return`${a.commandName} ${a.commandArgs}`;case"local-command-1":return a.commandMessage;case"local-command-2":return a.stdout;case"text":return a.content;default:throw Error("Invalid first command")}}},97552:(a,b,c)=>{"use strict";c.d(b,{N:()=>e});var d=c(30311),e=globalThis?.document?d.useLayoutEffect:()=>{}}};